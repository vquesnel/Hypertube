
var trickle = require('./index'),
	start = +Date.now();

// Helper function to show the time difference
function since (time) { return Math.round((time - start) / 1000) + 's'; }

// Limit once per second
var limit = trickle(1, 1000);

limit(function () {
	console.log('I am doing an API call here', since(+Date.now()));
});

limit(function () {
	console.log('I am doing another API call here', since(+Date.now()));
});

limit(function () {
	console.log('I am doing an API call here again', since(+Date.now()));
});
